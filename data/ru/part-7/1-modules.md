---
path: '/ru/part-7/1-modules'
title: 'Модули'
hidden: false
---

<text-box variant='learningObjectives' name="Цели обучения">

После этого раздела

- Вы узнаете, что такое модуль Python
- Вы сможете включать модуль в свою программу с помощью оператора `import`
- Вы узнаете, как искать дополнительную информацию о содержании модулей

</text-box>

## Отладка пересмотрена

Мы уже столкнулись с довольно многими методами отладки в этом курсе. [Инструмент визуализации](http://www.pythontutor.com/visualize.html#mode=edit) должен быть вам знаком сейчас, и [отладочные выводы](/ru/part-2/1-programming-terminology#debugging) являются старой доброй основой к настоящему времени. Возможно, вы также пробовали встроенный отладчик Visual Studio Code [встроенный отладчик](/ru/part-4/1-vscode#the-built-in-debugger). Если у вас возникли проблемы с тем, что отладчик не находит ваши файлы, в [предыдущей части](/ru/part-6/1-reading-files#debugging-code-which-handles-files) были некоторые советы для обработки таких ситуаций.

В Python версия 3.7 принесла еще один простой и полезный инструмент для отладки программ: команду [breakpoint()](https://docs.python.org/3/library/functions.html?highlight=breakpoint#breakpoint).

Вы можете добавить эту команду в любой точке вашего кода (в рамках обычных синтаксических правил, конечно). При запуске программы выполнение останавливается в точке, где вы вставили команду `breakpoint`. Вот пример отладочных усилий при выполнении одного из упражнений из предыдущей части (пожалуйста, игнорируйте финские имена переменных на изображениях и сосредоточьтесь на функциональности):

<img src="../../part-7/7_1_1.png">

Когда выполнение останавливается на команде `breakpoint`, открывается окно интерактивной консоли. Здесь вы можете писать любой код так же, как в обычной консоли Python, и видеть, как код работает именно в этой точке программы.

Команда `breakpoint` особенно полезна, когда вы знаете, что какая-то строка кода вызывает ошибку, но не совсем уверены, почему это происходит. Добавьте точку останова прямо перед проблемной строкой кода и запустите свою программу. Теперь вы можете попробовать различные варианты в окне интерактивной консоли и выяснить правильные команды для включения в свою программу.

Также можно продолжить выполнение с места, где оно остановилось. Команда `continue` или сокращение `c`, введенная в консоль отладки, возобновит выполнение до достижения следующей точки останова. Следующая картина показывает ситуацию, где цикл уже выполнен несколько раз:

<img src="../../part-7/7_1_2.png">

В консоли отладки также доступны другие команды. Вы можете найти их [здесь](https://docs.python.org/3/library/pdb.html#debugger-commands), или же вы можете ввести _help_ в консоли отладки:

<img src="../../part-7/7_1_3.png">

Команда _exit_ завершает выполнение программы.

Когда вы закончили отладку, помните удалить команды `breakpoint` из вашего кода!

## Использование модулей

Определение языка Python уже содержит некоторые полезные функции, такие как функция `len`, которая возвращает длину строки или списка, или функция `sum`, которая возвращает сумму элементов в структуре данных, но они приведут программиста только до определенного предела. _Стандартная библиотека_ Python - это коллекция стандартизированных функций и объектов, которые можно использовать для расширения выразительной силы Python многими способами. Мы уже использовали некоторые функции, определенные в стандартной библиотеке, в предыдущих упражнениях, например, при вычислении квадратных корней.

Стандартная библиотека состоит из _модулей_, которые содержат функции и классы, сгруппированные по различным темам и функциональностям. В этой части курса мы познакомимся с некоторыми полезными модулями Python. Мы также научимся писать собственные модули.

Команда `import` делает содержимое данного модуля доступным в текущей программе. Давайте ближе рассмотрим работу с модулем `math`. Он содержит определения некоторых математических функций, таких как `sqrt` для квадратного корня и `log` для логарифма.


```python
import math

# Квадратный корень числа 5
print(math.sqrt(5))
# логарифм по основанию 2 числа 8
print(math.log(8, 2))
```

<sample-output>

2.23606797749979
3.0

</sample-output>

Функции определены в модуле `math`, поэтому на них нужно ссылаться как на `math.sqrt` и `math.log` в коде программы.

## Выбор отдельных разделов из модуля

Другой способ использования модулей - выбрать отдельную сущность из модуля с помощью команды `from`. В случае, если мы хотим использовать только функции `sqrt` и `log` из модуля `math`, мы можем сделать следующее:

```python
from math import sqrt, log

print(sqrt(5))
print(log(5,2))
```

Как видно выше, нам не нужен префикс `math` при использовании функций, импортированных таким образом.

Иногда удобным сокращением является импорт _всего_ содержимого модуля с нотацией звездочки:

```python
from math import *

print(sqrt(5))
print(log(5,2))
```

Импорт модулей с нотацией звездочки может быть полезен при тестировании и в некоторых небольших проектах, но он может создавать некоторые новые проблемы тоже. Мы столкнемся с ними позже.

<programming-exercise name='Hypotenuse' tmcname='part07-01_hypotenuse'>

Пожалуйста, напишите функцию с именем `hypotenuse(leg1: float, leg2: float)`, которая принимает длины двух сторон, прилегающих к прямому углу ортогонального треугольника. Функция должна возвращать длину гипотенузы, или стороны, противоположной прямому углу.

Вы можете использовать [теорему Пифагора](https://ru.wikipedia.org/wiki/Теорема_Пифагора) для вычисления результата. Вам понадобится функция `sqrt` из модуля `math`.

Некоторые примеры:

```python
print(hypotenuse(3,4)) # 5.0
print(hypotenuse(5,12)) # 13.0
print(hypotenuse(1,1)) # 1.4142135623730951
```

</programming-exercise>

## Содержимое модуля

Документация Python имеет обширные ресурсы по каждому модулю в стандартной библиотеке Python. Документация содержит информацию о функциях и методах, определенных в модуле, и о том, как модуль может быть использован. Например, вот ссылка на документацию модуля `math`:

* https://docs.python.org/3/library/math.html

Мы также можем посмотреть на содержимое модуля с функцией `dir`:

```python
import math

print(dir(math))
```

Функция возвращает список имен, определенных модулем. Это могут быть, например, имена классов, постоянных значений или функций:

<sample-output>

['\_\_doc\_\_', '\_\_name\_\_', '\_\_package\_\_', 'acos', 'acosh', 'asin', 'asinh', 'atan', 'atan2', 'atanh', 'ceil', 'copysign', 'cos', 'cosh', 'degrees', 'e', 'erf', 'erfc', 'exp', 'expm1', 'fabs', 'factorial', 'floor', 'fmod', 'frexp', 'fsum', 'gamma', 'hypot', 'isinf', 'isnan', 'ldexp', 'lgamma', 'log', 'log10', 'log1p', 'modf', 'pi', 'pow', 'radians', 'sin', 'sinh', 'sqrt', 'tan', 'tanh', 'trunc']

</sample-output>

<programming-exercise name='Special characters' tmcname='part07-02_special_characters'>

Модуль Python [string](https://docs.python.org/3/library/string.html) содержит некоторые строковые константы, которые определяют определенные группы символов. Они включают, например, строчные буквы и знаки пунктуации. Пожалуйста, ознакомьтесь с этими константами, а затем напишите функцию с именем `separate_characters(my_string: str)`. Функция принимает строку в качестве аргумента, и она должна разделить символы в строке на три другие строки и вернуть их в кортеже:

* Первая строка должна содержать строчные и заглавные ASCII-буквы (строковая константа `ascii_letters`)
* Вторая строка должна содержать все знаки пунктуации, определенные строковой константой `punctuation`
* Третья строка должна содержать все остальные символы (включая пробелы)

Символы должны появляться в трех строках в том же порядке, в котором они появились в исходной строке.

Пример работы функции:

```python
parts = separate_characters("Olé!!! Hey, are ümläüts wörking?")
print(parts[0])
print(parts[1])
print(parts[2])
```

<sample-output>

OlHeyaremltswrking
!!!,?
é  üäü ö 

</sample-output>

</programming-exercise>

<programming-exercise name='Fractions' tmcname='part07-03_fractions'>

Пожалуйста, ознакомьтесь с модулем Python `fractions`. Используйте его для написания функции с именем `fractionate(amount: int)`, которая принимает количество частей в качестве аргумента. Функция должна разделить число 1 на столько равных частей, сколько указано аргументом, и вернуть их в списке.

Пример работы функции:

```python
for p in fractionate(3):
    print(p)

print()

print(fractionate(5))
```

<sample-output>

1/3
1/3
1/3

[Fraction(1, 5), Fraction(1, 5), Fraction(1, 5), Fraction(1, 5), Fraction(1, 5)]

</sample-output>

</programming-exercise>

<!---
<quiz id="94c034a1-3183-5682-acb0-7f126d26ba07"></quiz>
-->