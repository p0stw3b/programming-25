---
path: '/ru/part-7/6-more-features'
title: 'Дополнительные возможности Python'
hidden: false
---

<text-box variant='learningObjectives' name="Цели обучения">

После этого раздела

- Вы познакомитесь с некоторыми дополнительными возможностями Python

</text-box>

Для завершения этого курса здесь вы найдете различные полезные возможности Python.

## Однострочные условия

Следующие два оператора дают точно одинаковые результаты:

```python
if x%2 == 0:
    print("even")
else:
    print("odd")
```

```python
print("even" if x%2 == 0 else "odd")
```

В последнем примере у нас есть условное выражение в одной строке: `a if [условие] else b`. Значение этого выражения оценивается как `a`, если условие истинно, и `b`, если оно ложно. Эта структура иногда называется _тернарным оператором_.

Условные выражения могут быть очень полезны, когда вам нужно что-то присвоить _условно_. Например, если у вас были переменные `x` и `y`, и вы хотели либо увеличить, либо установить значение `y` в зависимости от четности `x`, вы могли бы написать это в обычном операторе `if else`, как показано:

```python
if x%2 == 0:
    y += 1
else:
    y = 0
```

То же самое можно было бы достичь с помощью изящной однострочки:

```python
y = y + 1 if x%2 == 0 else 0
```

## "Пустой" блок

Вы можете помнить из предыдущей части, что в программе Python не разрешено иметь пустой блок. Если вам нужно иметь блок кода, который ничего не делает, например при тестировании какой-то другой функциональности, команда `pass` позволит вам это сделать. Вы могли бы, например, написать функцию, которая ничего не делает:

```python
def testing():
    pass
```

Эта функция просто немедленно вернется. Пропуск команды `pass`, то есть наличие полностью пустого блока, привело бы к ошибке.

```python
def testing():  # this causes an error!
```

## Циклы с блоками else

В Python циклы также могут иметь блоки `else`. Этот раздел кода выполняется, если цикл завершается нормально.

Например, в следующем примере мы просматриваем список чисел. Если в списке есть четное число, программа выводит сообщение и цикл прерывается. Если четных чисел нет, цикл завершается нормально, но затем выводится другое сообщение.

```python
my_list = [3,5,2,8,1]
for x in my_list:
    if x%2 == 0:
        print("found an even number", x)
        break
else:
    print("there were no even numbers")
```

Более традиционный способ достичь этого - использовать вспомогательную переменную для запоминания того, был ли найден желаемый элемент:

```python
my_list = [3,5,2,8,1]
found = False
for x in my_list:
    if x%2 == 0:
        print("found an even number", x)
        found = True
        break
if not found:
    print("there were no even numbers")
```

Использование оператора `for else` избавляет нас от необходимости писать отдельную переменную.

## Значение параметра по умолчанию

Функция Python может иметь значение параметра по умолчанию. Оно используется всякий раз, когда в функцию не передается аргумент. Смотрите следующий пример:

```python
def say_hello(name="Emily"):
    print("Hi there,", name)

say_hello()
say_hello("Eric")
say_hello("Matthew")
say_hello("")
```

<sample-output>

Hi there, Emily
Hi there, Eric
Hi there, Matthew
Hi there,

</sample-output>

Примечание: пустая строка все еще является строкой, поэтому параметр по умолчанию не используется, если в функцию передается пустая строка.

## Переменное количество параметров

Вы также можете определить функцию с переменным количеством параметров, добавив звездочку перед именем параметра. Все остальные аргументы, переданные функции, содержатся в кортеже и могут быть доступны через именованный параметр.

Следующая функция подсчитывает количество и сумму своих аргументов:

```python
def testing(*my_args):
    print("You passed", len(my_args), "arguments")
    print("The sum of the arguments is", sum(my_args))

testing(1, 2, 3, 4, 5)
```

<sample-output>

You passed 5 arguments
The sum of the arguments is 15

</sample-output>

<programming-exercise name='Your own programming language' tmcname='part07-18_own_programming_language'>

В этом упражнении вы напишите свой собственный исполнитель языка программирования. Вы можете использовать любые техники и навыки, которые вы изучили в этом курсе до сих пор.

Программы будут состоять из строк, и каждая строка будет в одном из следующих форматов:

* `PRINT [значение]`: выводит значение
* `MOV [переменная] [значение]`: присваивает значение переменной
* `ADD [переменная] [значение]`: добавляет значение к переменной
* `SUB [переменная] [значение]`: вычитает значение из переменной
* `MUL [переменная] [значение]`: умножает переменную на значение
* `[местоположение]:`: называет строку кода, чтобы к ней можно было перейти из другого места
* `JUMP [местоположение]`: переходит к указанному местоположению
* `IF [условие] JUMP [местоположение]`: если условие истинно, переходит к указанному местоположению
* `END`: заканчивает выполнение

Квадратные скобки выше - это просто обозначение для указания операндов; смотрите ниже примеры использования.

Программа выполняется строка за строкой с первой строки. Выполнение заканчивается, когда исполнитель встречает команду `END` или когда больше нет строк для выполнения.

Каждая программа имеет 26 предопределенных переменных с именами от `A` до `Z`. Каждая переменная имеет значение 0 в начале программы. Обозначение `[переменная]` относится к одной из этих 26 переменных.

Все значения, обрабатываемые программой, являются целыми числами. Обозначение `[значение]` относится либо к значению, сохраненному в переменной, либо к целому числу, введенному напрямую.

Обозначение `[местоположение]` относится к любому имени местоположения, которое состоит из строчных букв от `a` до `z` и/или цифр от `0` до `9`. Два разных местоположения не могут иметь одинаковое имя.

Обозначение `[условие]` относится к любому выражению в формате `[значение] [сравнение] [значение]`, где `[сравнение]` - это один из следующих операторов: `==`, `!=`, `<`, `<=`, `>` и `>=`.

Пожалуйста, напишите функцию с именем `run(program)`, которая принимает список, содержащий команды программы, в качестве аргумента. Каждый элемент в списке - это строка кода в программе. Функция должна возвращать новый список, который содержит результаты команд `PRINT`, выполненных во время работы программы.

Вы можете предположить, что функции будут даны только программы, которые полностью в правильном формате. Вам не нужно реализовывать валидацию ввода или обработку ошибок.

Это упражнение стоит два балла. Вы получите один балл, если команды `PRINT`, `MOV`, `ADD`, `SUB`, `MUL` и `END` работают правильно. Вы получите другой балл, если остальные команды, которые используются для реализации циклов, также работают.

Ниже приведены некоторые примеры, которые вы также можете использовать для тестирования. Пример 1:

```python
program1 = []
program1.append("MOV A 1")
program1.append("MOV B 2")
program1.append("PRINT A")
program1.append("PRINT B")
program1.append("ADD A B")
program1.append("PRINT A")
program1.append("END")
result = run(program1)
print(result)
```

<sample-output>

[1, 2, 3]

</sample-output>

Пример 2:

```python
program2 = []
program2.append("MOV A 1")
program2.append("MOV B 10")
program2.append("begin:")
program2.append("IF A >= B JUMP quit")
program2.append("PRINT A")
program2.append("PRINT B")
program2.append("ADD A 1")
program2.append("SUB B 1")
program2.append("JUMP begin")
program2.append("quit:")
program2.append("END")
result = run(program2)
print(result)
```

<sample-output>

[1, 10, 2, 9, 3, 8, 4, 7, 5, 6]

</sample-output>

Пример 3 (факториал):

```python
program3 = []
program3.append("MOV A 1")
program3.append("MOV B 1")
program3.append("begin:")
program3.append("PRINT A")
program3.append("ADD B 1")
program3.append("MUL A B")
program3.append("IF B <= 10 JUMP begin")
program3.append("END")
result = run(program3)
print(result)
```

<sample-output>

[1, 2, 6, 24, 120, 720, 5040, 40320, 362880, 3628800]

</sample-output>

Пример 4 (простые числа):

```python
program4 = []
program4.append("MOV N 50")
program4.append("PRINT 2")
program4.append("MOV A 3")
program4.append("begin:")
program4.append("MOV B 2")
program4.append("MOV Z 0")
program4.append("test:")
program4.append("MOV C B")
program4.append("new:")
program4.append("IF C == A JUMP error")
program4.append("IF C > A JUMP over")
program4.append("ADD C B")
program4.append("JUMP new")
program4.append("error:")
program4.append("MOV Z 1")
program4.append("JUMP over2")
program4.append("over:")
program4.append("ADD B 1")
program4.append("IF B < A JUMP test")
program4.append("over2:")
program4.append("IF Z == 1 JUMP over3")
program4.append("PRINT A")
program4.append("over3:")
program4.append("ADD A 1")
program4.append("IF A <= N JUMP begin")
result = run(program4)
print(result)
```

<sample-output>

[2, 3, 5, 7, 11, 13, 17, 19, 23, 29, 31, 37, 41, 43, 47]

</sample-output>

</programming-exercise>

Пожалуйста, ответьте на анкету обратной связи по курсу. Результаты анкеты помогают нам улучшить курс.

<quiz id="d62984be-5496-56b5-a725-ea811a8ba38b"></quiz>