---
path: '/ru/part-4/4-definite-iteration'
title: 'Определённая итерация'
hidden: false
---

<text-box variant='learningObjectives' name="Цели обучения">

После изучения этого раздела

- Вы узнаете разницу между определённой и неопределённой итерацией
- Вы узнаете, как работает цикл Python `for`
- Вы сможете использовать цикл `for` для итерации по спискам и строкам

</text-box>

Вы можете использовать цикл `while` для прохода по элементам списка, так же как мы использовали циклы while для прохода по строкам. Следующая программа выводит элементы списка, каждый на отдельной строке:

```python
my_list = [3, 2, 4, 5, 2]

index = 0
while index < len(my_list):
    print(my_list[index])
    index += 1
```

<sample-output>

3
2
4
5
2

</sample-output>

Это, очевидно, работает, но это довольно сложный способ прохода по списку, поскольку вам нужно использовать вспомогательную переменную `index` для запоминания того, на каком элементе списка вы находитесь. К счастью, Python предлагает более интуитивный способ прохода по спискам, строкам и другим подобным структурам.

## Цикл for

Когда вы хотите пройти по некоторой готовой коллекции элементов, цикл Python `for` сделает это для вас. Например, цикл может пройти по всем элементам в списке от первого до последнего.

При использовании цикла `while` программа заранее не "знает", сколько итераций выполнит цикл. Он будет повторяться, пока условие не станет ложным или цикл не будет прерван иначе. Поэтому он относится к _неопределённой итерации_. С циклом for количество итераций определяется при настройке цикла, и поэтому он относится к _определённой итерации_.

Идея в том, что цикл `for` берёт элементы в коллекции один за другим и выполняет одинаковые действия с каждым. Программисту не нужно беспокоиться о том, какой элемент обрабатывается в данный момент. Синтаксис цикла for следующий:

```python
for <переменная> in <коллекция>:
    <блок>
```

Цикл `for` берёт элемент из коллекции, присваивает его переменной, обрабатывает блок кода и переходит к следующему элементу. Когда все элементы в коллекции были обработаны, выполнение программы продолжается со строки после цикла.

<img src="../../part-4/4_4_1.png" alt="Итерация по списку">

Следующая программа выводит все элементы в списке, используя цикл `for`:

```python
my_list = [3, 2, 4, 5, 2]

for item in my_list:
    print(item)
```

<sample-output>

3
2
4
5
2

</sample-output>

По сравнению с примером в начале этого раздела структура гораздо проще для понимания. Цикл `for` делает простой проход по коллекции элементов очень простым.

Тот же принцип применяется к символам в строке:

```python
name = input("Пожалуйста, введите ваше имя: ")

for character in name:
    print(character)
```

<sample-output>

Пожалуйста, введите ваше имя: **Грация**
Г
р
а
ц
и
я

</sample-output>

<programming-exercise name='Star-studded' tmcname='part04-20_star_studded' title='Звёздочки'>

Пожалуйста, напишите программу, которая просит пользователя ввести строку. Программа затем выводит каждый входной символ на отдельной строке. После каждого символа должна быть напечатана звёздочка (*) на своей строке.

Вот как это должно работать:

<sample-output>

Пожалуйста, введите строку: **Python**
P
*
y
*
t
*
h
*
o
*
n
*

</sample-output>

**Примечание:** это упражнение не просит вас писать какие-либо функции, поэтому вы __не должны__ размещать какой-либо код в блоке `if __name__ == "__main__"`.

</programming-exercise>

## Функция `range`

Часто вы знаете, сколько раз хотите повторить определённый кусок кода. Вы можете, например, пожелать пройти по всем числам от 1 до 100. Функция `range`, подключённая к циклу `for`, сделает это для вас.

Есть несколько разных способов вызвать функцию range. Самый простой способ - дать функции только один аргумент, который обозначает конечную точку диапазона. Сама конечная точка исключается, так же как со срезами строк. Другими словами, вызов функции `range(n)` предоставляет циклу диапазон от 0 до `n-1`:

```python
for i in range(5):
    print(i)
```

<sample-output>

0
1
2
3
4

</sample-output>

С двумя аргументами функция вернёт диапазон между двумя числами. Функция `range(a,b)` предоставляет диапазон, начинающийся с `a` и заканчивающийся на `b-1`:

```python
for i in range(3, 7):
    print(i)
```

<sample-output>

3
4
5
6

</sample-output>

Наконец, с третьим аргументом вы также можете указать размер _шага_, который диапазон делает между каждым значением. Вызов функции `range(a, b, c)` предоставляет диапазон, начинающийся с `a`, заканчивающийся на `b-1` и изменяющийся на `c` с каждым шагом:

```python
for i in range(1, 9, 2):
    print(i)
```

<sample-output>

1
3
5
7

</sample-output>

Шаг также может быть отрицательным. Тогда диапазон будет в обратном порядке. Обратите внимание, что первые два аргумента здесь также поменяны местами:

```python
for i in range(6, 2, -1):
    print(i)
```

<sample-output>

6
5
4
3

</sample-output>

<programming-exercise name='From negative to positive' tmcname='part04-21_negative_to_positive' title='От отрицательного к положительному'>

Пожалуйста, напишите программу, которая просит пользователя ввести положительное целое число N. Программа затем выводит все числа от -N до N включительно, но _исключает число 0_. Каждое число должно быть напечатано на отдельной строке.

Пример ожидаемого поведения:

<sample-output>

Пожалуйста, введите положительное целое число: **4**
-4
-3
-2
-1
1
2
3
4

</sample-output>

**Примечание:** это упражнение не просит вас писать какие-либо функции, поэтому вы __не должны__ размещать какой-либо код в блоке `if __name__ == "__main__"`.

</programming-exercise>

## От диапазона к списку

Функция `range` возвращает объект диапазона, который во многих отношениях ведёт себя как список, но на самом деле таковым не является. Если вы попытаетесь напечатать значение, которое возвращает функция, вы увидите только описание объекта диапазона:

```python
numbers = range(2, 7)
print(numbers)
```

<sample-output>

range(2, 7)

</sample-output>

Функция `list` преобразует диапазон в список. Список будет содержать все значения, которые есть в диапазоне. Продвинутый курс программирования, который следует за этим, прольёт больше света на эту тему.

```python
numbers = list(range(2, 7))
print(numbers)
```

<sample-output>

[2, 3, 4, 5, 6]

</sample-output>

## Напоминание о требованиях автоматических тестов

До сих пор, когда упражнения просили вас написать функции, шаблоны выглядели так:

```python
# Напишите ваше решение здесь
# Вы можете протестировать вашу функцию, вызвав её в следующем блоке
if __name__ == "__main__":
    sentence = "это был тёмный и бурный питон"
    print(first_word(sentence))
    print(second_word(sentence))
    print(last_word(sentence))
```

С этого момента в шаблонах больше не будет напоминаний об использовании блока `if __name__ == "__main__"`. Однако автоматические тесты всё ещё будут требовать его использования, поэтому вам придётся добавлять блок самостоятельно, когда вы тестируете вашу функцию в основной функции вашей программы.

**Примечание:** некоторые упражнения, такие как упражнение _Palindromes_, которое появится в этом разделе, ожидают, что вы также напишете код, который вызывает написанную вами функцию. Этот код __не должен__ размещаться в блоке `if __name__ == "__main__"`. Автоматические тесты не будут выполнять какой-либо код в этом блоке, поэтому ваше решение не будет полным, если вы поместите ваши вызовы функций туда.

<programming-exercise name='List of stars' tmcname='part04-22_list_of_stars' title='Список звёзд'>

Пожалуйста, напишите функцию с именем `list_of_stars`, которая принимает список целых чисел в качестве аргумента. Функция должна выводить строки звёздочек. Числа в списке определяют, сколько звёзд должна содержать каждая строка.

Например, при вызове функции `list_of_stars([3, 7, 1, 1, 2])` должно быть выведено следующее:

<sample-output>

<pre>
***
*******
*
*
**
</pre>

</sample-output>

<!-- **Huomaa** että tällä hetkellä Windowsissa on ongelmia joidenkin tehtävien testien suorittamisessa. Jos törmäät seuraavaan virheilmoitukseen

<img src="../../part-4/4_3_2.png" alt="Listan iterointi">

voit suorittaa testit lähettämällä ne palvelimelle valitsemalla testien suoritusnapin oikealla puolella olevasta symbolista avautuvasta TMC-valikosta _Submit solutions_.

Ongelman saa korjattua menemällä laajennuksen asennusvalikkoon ja muuttamalla "TMC Data" -kohdassa tehtävien sijainnin johonkin toiseen sijaintiin, jonka tiedostopolku on lyhempi, allaolevassa kuvassa nappi _change path_. Siirrossa saattaa kestää hetken, joten odotathan operaation päättymistä.

<img src="../../part-4/4_3_3.png" alt="Listan iterointi">

Ongelmaan pyritään saamaan parempi ratkaisu lähipäivinä. -->

</programming-exercise>

<programming-exercise name='Anagrams' tmcname='part04-23_anagrams' title='Анаграммы'>

Пожалуйста, напишите функцию с именем `anagrams`, которая принимает две строки в качестве аргументов. Функция возвращает `True`, если строки являются анаграммами друг друга. Два слова являются анаграммами, если они содержат точно одинаковые символы.

Некоторые примеры работы функции:

```python
print(anagrams("tame", "meta")) # True
print(anagrams("tame", "mate")) # True
print(anagrams("tame", "team")) # True
print(anagrams("tabby", "batty")) # False
print(anagrams("python", "java")) # False
```

Подсказка: функция `sorted` может использоваться и со строками.

</programming-exercise>

<programming-exercise name='Palindromes' tmcname='part04-24_palindromes' title='Палиндромы'>

Пожалуйста, напишите функцию с именем `palindromes`, которая принимает строковый аргумент и возвращает `True`, если строка является палиндромом. Палиндромы - это слова, которые пишутся одинаково вперёд и назад.

Пожалуйста, также напишите основную программу, которая просит пользователя вводить слова, пока они не введут палиндром:

<sample-output>

Пожалуйста, введите палиндром: **python**
это не палиндром
Пожалуйста, введите палиндром: **java**
это не палиндром
Пожалуйста, введите палиндром: **oddoreven**
это не палиндром
Пожалуйста, введите палиндром: **neveroddoreven**
neveroddoreven - палиндром!

</sample-output>

**Примечание:**, основная программа **не должна быть** в блоке `if __name__ == "__main__":`

</programming-exercise>

<programming-exercise name='The sum of positive numbers' tmcname='part04-25_sum_of_positives' title='Сумма положительных чисел'>

Пожалуйста, напишите функцию с именем `sum_of_positives`, которая принимает список целых чисел в качестве аргумента. Функция возвращает сумму положительных значений в списке.

```python
my_list = [1, -2, 3, -4, 5]
result = sum_of_positives(my_list)
print("Результат равен", result)
```

<sample-output>

Результат равен 9

</sample-output>

</programming-exercise>

В этих упражнениях мы будем использовать списки как аргументы и возвращаемые значения. Это было рассмотрено в [предыдущем разделе](/ru/part-4/3-lists#a-list-as-an-argument-or-a-return-value), если вам нужно освежить память.

<programming-exercise name='Even numbers' tmcname='part04-26_even_numbers' title='Чётные числа'>

Пожалуйста, напишите функцию с именем `even_numbers`, которая принимает список целых чисел в качестве аргумента. Функция возвращает новый список, содержащий чётные числа из исходного списка.

```python
my_list = [1, 2, 3, 4, 5]
new_list = even_numbers(my_list)
print("исходный", my_list)
print("новый", new_list)
```

<sample-output>

исходный [1, 2, 3, 4, 5]
новый [2, 4]

</sample-output>

</programming-exercise>

<programming-exercise name='The sum of lists' tmcname='part04-27_sum_of_lists' title='Сумма списков'>

Пожалуйста, напишите функцию с именем `list_sum`, которая принимает два списка целых чисел в качестве аргументов. Функция возвращает новый список, который содержит суммы элементов по каждому индексу в двух исходных списках. Вы можете предполагать, что оба списка содержат одинаковое количество элементов.

Пример работы функции:

```python
a = [1, 2, 3]
b = [7, 8, 9]
print(list_sum(a, b)) # [8, 10, 12]
```

</programming-exercise>

<programming-exercise name='Distinct numbers' tmcname='part04-28_distinct_numbers' title='Различающиеся числа'>

Пожалуйста, напишите функцию с именем `distinct_numbers`, которая принимает список целых чисел в качестве аргумента. Функция возвращает новый список, содержащий числа из исходного списка в порядке возрастания, и так что каждое различное число присутствует только один раз.

```python
my_list = [3, 2, 2, 1, 3, 3, 1]
print(distinct_numbers(my_list)) # [1, 2, 3]
```

</programming-exercise>

## Поиск лучшего или худшего элемента в списке

Очень распространённая задача программирования - поиск лучшего или худшего элемента в списке согласно некоторым критериям. Простое решение - использование вспомогательной переменной для "запоминания" того, какой из обработанных до сих пор элементов был наиболее подходящим. Этот временно лучший выбор затем сравнивается с каждым элементом по очереди, и в конце итерации переменная содержит лучший из всех.

Грубый набросок, который ещё не компилируется:

```python
best = начальное_значение # Начальное значение зависит от ситуации
for item in my_list:
    if item лучше чем best:
        best = item

# Теперь мы выяснили лучший!
```

Детали финального программного кода зависят от типа элементов в списке, а также от критериев выбора лучшего (или худшего) элемента. Иногда вам может понадобиться более одной вспомогательной переменной.

Давайте немного попрактикуем этот метод.

<programming-exercise name='The length of the longest in the list' tmcname='part04-29_length_of_longest' title='Длина самого длинного в списке'>

Пожалуйста, напишите функцию с именем `length_of_longest`, которая принимает список строк в качестве аргумента. Функция возвращает длину самой длинной строки.

```python
my_list = ["первый", "второй", "четвёртый", "одиннадцатый"]

result = length_of_longest(my_list)
print(result)
```

```python
my_list = ["адель", "марк", "дороти", "тим", "хеди", "ричард"]

result = length_of_longest(my_list)
print(result)
```

<sample-output>

11
7

</sample-output>

</programming-exercise>

<programming-exercise name='The shortest in the list' tmcname='part04-30_shortest_in_list' title='Самая короткая в списке'>

Пожалуйста, напишите функцию с именем `shortest`, которая принимает список строк в качестве аргумента. Функция возвращает ту из строк, которая является самой короткой. Если несколько строк одинаково короткие, функция может вернуть любую из самых коротких строк (такой ситуации не будет в тестах). Вы можете предполагать, что в списке не будет пустых строк.


```python
my_list = ["первый", "второй", "четвёртый", "одиннадцатый"]

result = shortest(my_list)
print(result)
```

```python
my_list = ["адель", "марк", "дороти", "тим", "хеди", "ричард"]

result = shortest(my_list)
print(result)
```

<sample-output>

второй
тим

</sample-output>

</programming-exercise>

<programming-exercise name='All the longest in the list' tmcname='part04-31_all_longest_in_list' title='Все самые длинные в списке'>

Пожалуйста, напишите функцию с именем `all_the_longest`, которая принимает список строк в качестве аргумента. Функция должна вернуть новый список, содержащий самую длинную строку в исходном списке. Если несколько строк одинаково длинные, функция должна вернуть все самые длинные строки.

Порядок строк в возвращаемом списке должен быть таким же, как в исходном.

```python
my_list = ["первый", "второй", "четвёртый", "одиннадцатый"]

result = all_the_longest(my_list)
print(result) # ['одиннадцатый']
```

```python
my_list = ["адель", "марк", "дороти", "тим", "хеди", "ричард"]

result = all_the_longest(my_list)
print(result) # ['дороти', 'ричард']
```

</programming-exercise>

<!---
A quiz to review the contents of this section:

<quiz id="b1a91143-3137-5833-a771-6801f541a43b"></quiz>
-->