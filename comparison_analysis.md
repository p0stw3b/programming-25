# Анализ различий между английской и русской версиями сайта

## Дата анализа: 10.09.2025
## URL: http://localhost:8001/

## 1. КРИТИЧЕСКАЯ ПРОБЛЕМА: Отсутствие навигационных ссылок в русской версии

### Английская версия - полная навигация:
- About this course
- Grading and exams
- All exercises  
- Introduction to Programming exam 06.09.
- Support and assistance
- Frequently asked questions
- Common error messages
- Разделитель: "Introduction to Programming"
- Part 1-7
- Разделитель: "Advanced Course in Programming"
- Part 8-14

### Русская версия - урезанная навигация:
- О курсе
- Часть 1-7
- Разделитель: "Продвинутый курс программирования"
- Часть 8-14

### Отсутствующие страницы в русской версии:
1. Grading and exams (Оценивание и экзамены)
2. All exercises (Все упражнения)
3. Introduction to Programming exam 06.09. (Экзамен по введению в программирование)
4. Support and assistance (Поддержка и помощь)
5. Frequently asked questions (Часто задаваемые вопросы)
6. Common error messages (Распространенные сообщения об ошибках)
7. Отсутствует разделитель "Introduction to Programming"

### ПРИЧИНА ПРОБЛЕМЫ:
Файлы русской версии существуют в папке `data/ru/`, но не загружаются в боковое меню из-за ошибки в GraphQL запросе в компоненте Sidebar.js (строка 223):

```javascript
filter: { fileAbsolutePath: { regex: "/index.md|data/[^/]+/*.md/" } }
```

Это регулярное выражение не захватывает файлы из подпапки `data/ru/`, только файлы непосредственно в `data/`.

## 2. Проверенные страницы и их содержимое

### Главная страница (/)
- **EN**: Полное содержимое с таблицей лекций, расписанием, ссылками
- **RU**: Контент переведен корректно, таблица лекций присутствует

### Part 1 / Часть 1
- **EN**: 5 подразделов (Getting started, Information from the user, More about variables, Arithmetic operations, Conditional statements)
- **RU**: 5 подразделов (все переведены корректно)

### Part 4 / Часть 4
- **EN**: 6 подразделов (VSCode, More functions, Lists, Definite iteration, Print formatting, More strings and lists)
- **RU**: 6 подразделов (все переведены корректно)

## 3. Файлы существуют, но не отображаются

Проверено наличие файлов:
- ✅ data/ru/all-exercises.md
- ✅ data/ru/error_messages.md
- ✅ data/ru/exam_intro.md
- ✅ data/ru/faq.md
- ✅ data/ru/grading-and-exams.md
- ✅ data/ru/support-and-assistance.md

Все файлы имеют корректную структуру frontmatter с `information_page: true` и `sidebar_priority`.

## 4. ИСПРАВЛЕНИЕ И НОВАЯ ПРОБЛЕМА

### Исправление в Sidebar.js
Изменено регулярное выражение в строке 223:
- **Было**: `/index.md|data/[^/]+/*.md/`
- **Стало**: `/index.md|data/.*/*.md/`

### Результат после исправления:
✅ Все информационные страницы теперь загружаются в русской версии
❌ НО: Появилась новая проблема с сортировкой - все страницы (включая подстраницы частей) смешаны в одном списке без правильной группировки

### Текущее состояние русского меню после исправления:
- О курсе ✅
- Оценивание и экзамены ✅
- Все упражнения ✅
- Экзамен по введению в программирование 06.09. ✅
- Поддержка и помощь ✅
- Часто задаваемые вопросы ✅
- Распространенные сообщения об ошибках ✅
- **ВСЕ подстраницы из всех частей смешаны в алфавитном порядке** ❌
- Часть 1-14 (в конце списка)

## 5. ФИНАЛЬНОЕ ИСПРАВЛЕНИЕ

### Обновленное регулярное выражение:
```javascript
regex: "/index.md|data/[^/]+\\.md$|data/[^/]+/index.md$|data/ru/[^/]+\\.md$|data/ru/part-[^/]+/index.md$|data/part-[^/]+/index.md$/"
```

### Результат финального исправления:
✅ Все информационные страницы теперь отображаются в русской версии:
- О курсе
- Оценивание и экзамены
- Все упражнения  
- Экзамен по введению в программирование 06.09.
- Поддержка и помощь
- Часто задаваемые вопросы
- Распространенные сообщения об ошибках

✅ Части курса отображаются правильно (Часть 1-14)
✅ Разделитель "Продвинутый курс программирования" на месте

### Оставшаяся небольшая проблема:
❌ Отсутствует разделитель "Введение в программирование" перед Part 1 в русской версии

## 6. ИТОГОВЫЕ ВЫВОДЫ

### Главная проблема была решена:
Русская версия сайта теперь имеет полноценную навигацию с всеми информационными страницами.

### Причина проблемы:
GraphQL запрос в компоненте Sidebar.js использовал регулярное выражение, которое не захватывало файлы из подпапки `data/ru/`.

### Решение:
Обновление регулярного выражения для включения файлов из русской папки при сохранении правильной структуры меню (только index.md файлы частей и информационные страницы).

### Статус:
✅ Проблема с отсутствием навигационных ссылок в русской версии **РЕШЕНА**
✅ Контент на всех проверенных страницах переведен корректно
⚠️ Незначительная проблема: отсутствует один разделитель в русском меню